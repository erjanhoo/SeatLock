Собственная аутентификация и авторизация (кратко)

1) Аутентификация

- Регистрация создаёт пользователя (ФИО, email, пароль).
- Логин возвращает токен доступа.
- Дальше токен передаётся в заголовке:

  Authorization: Token <token>

- Logout делает токен недействительным (revoked).

Если токена нет / он неверный / истёк / отозван → 401 Unauthorized.


2) Авторизация (права доступа)

Минимальная RBAC-схема в БД:
- Role (роль)
- Resource (ресурс: например, profile, admin_panel)
- Action (действие: read/create/update/delete)
- UserRole (связь пользователь→роль)
- RolePermission (разрешение роли на ресурс+действие)

Если пользователь залогинен, но права нет → 403 Forbidden.


Проверка 401/403

GET /api/user/admin-panel/
- без токена → 401
- с токеном обычного пользователя → 403
- с токеном админа → 200


Демо-аккаунты (сидируются миграцией)

- admin@example.local / Admin12345
- user@example.local  / User12345
